(function(){var k=function(a){return/^[\s\xa0]*$/.test(a)},m=function(a){return null==a?"":String(a)};var n=window.google.annotations2.component;var q=function(a,b,f,e){for(var c=0,d;d=a.childNodes[c];++c)if(1==d.nodeType){var g=d.attributes&&d.attributes.getNamedItem(b);if(g&&(g.value==f||"*"==f))return d;if(e&&(d=q(d,b,f,e),null!=d))return d}return null};var s=function(a){var b=a.element,f=a.issueDescriptionNode.value,e=a.issueTitleNode.value,c=a.issueTypeSelectNode,d=c.value;a.issuePublishButton.disabled=!0;if(!k(m(f))&&!k(m(e))&&0!=c.selectedIndex){var g=b.getAttribute("g:groups");b.setAttribute("g:groups",g+","+(new Date).getTime());b.setAttribute("g:supportIssueType",d);b.setAttribute("g:supportIssueState","OPEN");navigator&&navigator.appVersion&&b.setAttribute("g:supportClientVersion",navigator.appVersion);b.setAttribute("g:comment",f);b.setAttribute("g:title",
e);a.sendComponentsRequest([a],{event:"writeAnnotation"},!0,function(){var b=a.element,c=a.requestorProfile;window.console.log("Profile data: "+c.displayName);r(a);b.setAttribute("g:groups",g);b=null;t:{for(var b=a.hashCode(a),h=window.google.annotations2.component.getClass("CommentThread").instances,l=0,y=h.length;l<y;++l)if(h[l].hashCode(h[l])==b){b=h[l];break t}b=null}b&&b.decorateCommentBySelf(b,{entity:{authorPhotoUrl:c.photoUrl||"",displayName:c.displayName||"",profileUrl:c.profileUrl||""},
comment:f,title:e,supportIssueType:d},null)})}},t=function(a){var b=a.element,f=b.getAttribute("ga:titleDefaultText"),b=b.getAttribute("ga:descriptionDefaultText"),e=a.issueDescriptionNode,c=a.issueTitleNode,d=a.issueTypeSelectNode;a.issuePublishButton.disabled=!(!k(m(c.value))&&c.value!=f&&!k(m(e.value))&&e.value!=b&&0!=d.selectedIndex)},u=function(a){t(a)},r=function(a){var b=a.element;a.issueDescriptionNode.value=b.getAttribute("ga:descriptionDefaultText");a.issueTitleNode.value=b.getAttribute("ga:titleDefaultText");
a.issueTypeSelectNode.selectedIndex=0;t(a)},w=function(a,b){function f(b,c){return function(d){c&&13!==d.keyCode||b(a,d)}}function e(b){return function(c){var d=c.type;"blur"==d?""==c.currentTarget.value&&(c.currentTarget.value=b):"focus"==d&&c.currentTarget.value==b&&(c.currentTarget.value="");t(a)}}var c=a.element,d=q(c,"ga:type","Description",!0),g=q(c,"ga:type","Title",!0),v=q(c,"ga:type","IssueType",!0),p=q(c,"ga:type","Publish",!0),h=c.getAttribute("ga:titleDefaultText"),c=c.getAttribute("ga:descriptionDefaultText");
a.issueDescriptionNode=d;a.issueTitleNode=g;a.issueTypeSelectNode=v;a.issuePublishButton=p;b(p,"click",f(s),a);b(p,"keyup",f(s,!0),a);b(v,"change",f(u),a);b(g,"keydown",e(h),a);b(g,"blur",e(h),a);b(g,"focus",e(h),a);b(d,"keydown",e(c),a);b(d,"focus",e(c),a);b(d,"blur",e(c),a);r(a)};if(!n.getClass("IssueReportingWidget").loaded){var x={loaded:!0};x.initInstance=w;var z=n.getClass("IssueReportingWidget"),A;for(A in x)z[A]=x[A];z.initModule(z.bind)};})()
